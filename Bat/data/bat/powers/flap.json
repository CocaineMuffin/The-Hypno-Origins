{
    "type":"origins:multiple",
    "resource":{
        "type":"origins:resource",
        "min":0,
        "max":10,
        "start_value":10,
        "hud_render":{
            "should_render":true,
            "bar_index":4
        }
    },
    "ability":{
        "type":"origins:active_self",
        "entity_action":{
            "type":"origins:and",
            "actions":[
                {
                    "type":"origins:change_resource",
                    "resource":"bat:flap_resource",
                    "change": -1
                },
                {
                    "type": "origins:add_velocity",
                    "z": 1,
                    "space":"local"
                },
                {
                    "type":"origins:apply_effect",
                    "effect":{
                        "effect":"minecraft:slow_falling",
                        "duration":100,
                        "amplifier":0,
                        "show_particles":false,
                        "show_icon":false,
                        "is_ambient":true
                    }
                },
                {
                    "type":"origins:execute_command",
                    "command":"execute as @a[distance=..15] run playsound minecraft:entity.bat.takeoff master @s",
                    "permission_level":4
                }
            ]
        },
        "condition":{
            "type":"origins:and",
            "conditions":[
                {
                    "type":"origins:resource",
                    "resource":"bat:flap_resource",
                    "comparison":">",
                    "compare_to":0
                },
                {
                    "type":"origins:on_block",
                    "inverted":true
                }
            ]
        },  
        "hud_render":{
            "should_render":false
        },
        "cooldown":5,
        "key":{
            "key":"key.jump"
        }
    },
    "removeslowfalling":{
        "type": "origins:action_over_time",
        "entity_action":{
            "type":"origins:clear_effect",
            "effect":"minecraft:slow_falling"
        },
    "interval": 1,
    "condition": {
        "type":"origins:on_block"
    }
    },
    "reload":{
        "type": "origins:action_over_time",
        "entity_action":{
            "type":"origins:change_resource",
            "resource":"bat:flap_resource",
            "change": 10
        },
        "interval": 1,
        "condition": {
            "type":"origins:on_block"
        }
        },
    "stoplevitation":{
        "type":"origins:action_on_land",
        "entity_action":{
            "type":"origins:clear_effect",
            "effect":"minecraft:levitation"
        }
    },
    "name":"§a§l§nFlap",
    "description":"When jumping in the air, you are launched slightly in the direction of your cursor. You also glide for a short time after."
}